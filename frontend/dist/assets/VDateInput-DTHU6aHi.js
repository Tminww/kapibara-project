import{J as E,L as J,M as O,n as T,N as B,O as K,P as L,r as N,h as P,Q as H,R as Q,S as W,T as C,U as X,V as Y,W as Z,X as j,Y as k,Z as D,$ as h,e as d,a0 as q,C as f}from"./index-Dlkkv6Iw.js";const z=J({hideActions:Boolean,location:{type:String,default:"bottom start"},...Z(),...Y(),...X({placeholder:"mm/dd/yyyy",prependIcon:"$calendar"}),...C(j({weeksInMonth:"dynamic",hideHeader:!0}),["active","location","rounded"])},"VDateInput"),_=E()({name:"VDateInput",props:z(),emits:{"update:modelValue":a=>!0},setup(a,g){let{slots:r}=g;const{t:A}=O(),t=T(),{isFocused:m,focus:I,blur:w}=B(a),o=K(a,"modelValue",a.multiple?[]:null,e=>Array.isArray(e)?e.map(n=>t.toJsDate(n)):e&&t.toJsDate(e),e=>Array.isArray(e)?e.map(n=>t.date(n)):e&&t.date(e)),l=L(!1),v=N(),F=P(()=>{const e=H(o.value);if(!e.length)return null;if(a.multiple===!0)return A("$vuetify.datePicker.itemsSelected",e.length);if(a.multiple==="range"){const n=e[0],s=e[e.length-1];return t.isValid(n)&&t.isValid(s)?`${t.format(n,"keyboardDate")} - ${t.format(s,"keyboardDate")}`:""}return t.isValid(o.value)?t.format(o.value,"keyboardDate"):""}),c=P(()=>!a.disabled&&!a.readonly);function M(e){if(e.key!=="Enter")return;if(!l.value||!m.value){l.value=!0;return}const n=e.target;o.value=n.value}function V(e){e.preventDefault(),e.stopPropagation(),l.value=!0}function b(){l.value=!1}function x(e){e==null&&(o.value=null)}return Q(()=>{const e=k.filterProps(a),n=D.filterProps(C(a,["active","location","rounded"])),s=h.filterProps(a);return d(h,f({ref:v},s,{class:a.class,style:a.style,modelValue:F.value,onKeydown:c.value?M:void 0,focused:l.value||m.value,onFocus:I,onBlur:w,"onClick:control":c.value?V:void 0,"onClick:prepend":c.value?V:void 0,"onUpdate:modelValue":x}),{default:()=>{var y;return[d(q,{modelValue:l.value,"onUpdate:modelValue":i=>l.value=i,activator:"parent","min-width":"0",location:a.location,closeOnContentClick:!1,openOnClick:!1},{default:()=>[d(k,f(e,{modelValue:o.value,"onUpdate:modelValue":i=>o.value=i,onSave:b,onCancel:()=>l.value=!1}),{default:i=>{let{actions:U,model:p,save:R,cancel:S,isPristine:$}=i;return d(D,f(n,{modelValue:a.hideActions?o.value:p.value,"onUpdate:modelValue":u=>{a.hideActions?(o.value=u,a.multiple||(l.value=!1)):p.value=u},onMousedown:u=>u.preventDefault()}),{actions:a.hideActions?void 0:()=>{var u;return((u=r.actions)==null?void 0:u.call(r,{save:R,cancel:S,isPristine:$}))??U()}})}})]}),(y=r.default)==null?void 0:y.call(r)]}})}),W({},v)}});export{_ as V};
