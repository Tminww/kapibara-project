import{_ as k,G as I,H as L,i as M,a,c as f,o as c,w as d,m as g,e as l,f as b,F as N,y as Y,l as x,I as B,h as S,x as v,k as T,g as $,t as P}from"./index-Dlkkv6Iw.js";import{g as C,d as U,c as W}from"./utils-DAVKSodD.js";import{V as q}from"./VDateInput-DTHU6aHi.js";import{_ as H}from"./TIcon-Cx-csgO5.js";const j={class:"group-date"},A={class:"group-botton"},E={__name:"TFilterForm",props:{items:{type:Array,required:!0},loading:{type:Boolean,default:!1}},emits:["submit"],setup(s,{emit:p}){const m=s,e=I({selectedItems:[],selectedPeriod:"За прошлый месяц",startDate:null,endDate:null}),n=I({selectedItems:[],selectedPeriod:"",startDate:null,endDate:null});L(()=>{n.selectedItems=[...e.selectedItems],n.selectedPeriod=e.selectedPeriod,n.startDate=e.startDate,n.endDate=e.endDate});const _=o=>{o.length===0&&(e.selectedItems=[e.selectedItems[0]||m.items[0].id])},r=o=>{let t;switch(o){case"За прошлый месяц":t=W();break;case"За прошлый квартал":t=U();break;case"За прошлый год":t=C();break;default:t={startDate:null,endDate:null}}e.startDate=new Date(t.startDate),e.endDate=new Date(t.endDate)},u=()=>{e.selectedItems=m.items.map(o=>o.id),e.selectedPeriod="За прошлый месяц",r(e.selectedPeriod)};return M(()=>{e.selectedItems=m.items.map(o=>o.id),e.selectedPeriod="За прошлый месяц",r(e.selectedPeriod)}),(o,t)=>{const y=a("v-checkbox"),w=a("v-divider"),D=a("v-select"),h=a("v-btn"),V=a("v-form");return c(),f(V,{class:"form-container",onSubmit:t[4]||(t[4]=B(i=>o.$emit("submit",n),["prevent"]))},{default:d(()=>[(c(!0),g(N,null,Y(m.items,i=>(c(),f(y,{key:i.id,color:"primary",label:i.name,value:i.id,modelValue:e.selectedItems,"onUpdate:modelValue":[t[0]||(t[0]=F=>e.selectedItems=F),_],"hide-details":"",density:"compact"},null,8,["label","value","modelValue"]))),128)),l(w,{class:"my-4"}),l(D,{density:"comfortable",variant:"outlined",label:"Выбрать период",modelValue:e.selectedPeriod,"onUpdate:modelValue":[t[1]||(t[1]=i=>e.selectedPeriod=i),r],items:["За прошлый месяц","За прошлый квартал","За прошлый год"]},null,8,["modelValue"]),b("div",j,[l(x(q),{label:"Дата начала",placeholder:"DD.MM.YYYY","prepend-icon":"",variant:"outlined",modelValue:e.startDate,"onUpdate:modelValue":t[2]||(t[2]=i=>e.startDate=i)},null,8,["modelValue"]),l(x(q),{label:"Дата окончания",placeholder:"DD.MM.YYYY","prepend-icon":"",variant:"outlined",modelValue:e.endDate,"onUpdate:modelValue":t[3]||(t[3]=i=>e.endDate=i)},null,8,["modelValue"])]),b("div",A,[l(h,{class:"items",type:"submit",loading:m.loading,color:"",variant:"tonal",text:"Применить"},null,8,["loading"]),l(h,{class:"items",text:"Отменить",color:"red",variant:"tonal",onClick:u})])]),_:1})}}},te=k(E,[["__scopeId","data-v-7a658508"]]),R={class:"sidebar-wrapper"},G={__name:"TFilterSidebar",props:{modelValue:{type:Boolean,required:!0},loading:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(s,{emit:p}){const m=s,e=p,n=S({get:()=>m.modelValue,set:r=>e("update:modelValue",r)}),_=()=>{n.value=!n.value};return(r,u)=>{const o=a("v-list-item-title"),t=a("v-btn"),y=a("v-list-item"),w=a("v-progress-circular"),D=a("v-container"),h=a("v-navigation-drawer");return c(),g("div",R,[l(h,{location:"left",temporary:"",floating:"",width:350,modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=V=>n.value=V),scrim:!0},{default:d(()=>[l(y,{nav:""},{append:d(()=>[l(t,{icon:"mdi-chevron-left",variant:"text",onClick:B(_,["stop"])})]),default:d(()=>[l(o,null,{default:d(()=>u[1]||(u[1]=[b("h2",{class:"font-weight-bold pl-2"},"Настроить фильтры",-1)])),_:1})]),_:1}),l(D,{class:"scrollable-container pt-0"},{default:d(()=>[s.loading?(c(),f(w,{key:0,class:"d-flex align-center justify-center",indeterminate:""})):v(r.$slots,"form",{key:1},void 0,!0)]),_:3})]),_:3},8,["modelValue"])])}}},ae=k(G,[["__scopeId","data-v-d71905c5"]]),O={key:0,class:"loader-wrap"},Q={key:1,class:"chart-wrap"},z={class:"text-h7 time-wrap"},J={__name:"TRegionCard",props:{title:{type:String,required:!1,default:"Область"},subtitle:{type:String,required:!1},width:{type:Number,required:!1},maxHeight:{type:Number,required:!1},height:{type:Number,required:!1},maxWidth:{type:Number,required:!1},minWidth:{type:Number,required:!1},isLoading:{type:Boolean,required:!0,default:!0}},setup(s){return(p,m)=>{const e=a("v-card-title"),n=a("v-card-subtitle"),_=a("v-card-text"),r=a("v-card-actions"),u=a("v-card");return c(),f(u,{loading:s.isLoading,"max-width":s.maxWidth,"min-width":s.minWidth,"max-height":s.maxHeight,width:s.width,height:s.height,elevation:"3",class:"card-container full-width-card"},{default:d(()=>[l(e,{class:"title-wrap mt-2"},{default:d(()=>[$(P(s.title),1)]),_:1}),s.subtitle?(c(),f(n,{key:0,class:"subtitle-wrap"},{default:d(()=>[$(P(s.subtitle),1)]),_:1})):T("",!0),l(_,{class:"pb-0 pt-0"},{default:d(()=>[s.isLoading?(c(),g("div",O,[l(x(H),{name:"dashboard-gray",width:310,height:350})])):(c(),g("div",Q,[v(p.$slots,"chart",{},void 0,!0)]))]),_:3}),l(r,{class:"justify-space-between"},{default:d(()=>[v(p.$slots,"previous",{},void 0,!0),b("div",z,[v(p.$slots,"interval",{},void 0,!0)]),v(p.$slots,"next",{},void 0,!0)]),_:3})]),_:3},8,["loading","max-width","min-width","max-height","width","height"])}}},se=k(J,[["__scopeId","data-v-772a176b"]]);export{te as T,ae as a,se as b};
